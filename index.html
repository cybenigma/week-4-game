<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Crystal Collector</title>

  <!-- Added link to the jQuery Library -->
  <script src="https://code.jquery.com/jquery-3.1.1.js"></script>

  <!-- Added a link to Bootstrap-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

</head>
<body>

  <div class="jumbotron">
    <h1 class="text-center">Crystal Collector</h1>
    <h2 class="text-center">Match the random number without going over using the crystals below.</h2>
  </div>

  <div class="container">

    <div class="row">

       <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Game Instructions</h3>
        </div>
        <div class="panel-body text-center">
          <p>You will be given a random number at the start of the game.
          There are four crystals below. By clicking on a crystal, you will add a specific amount of points to your total score.
          You win the game by matching your total score to a random number displayed, you lose the game if your total score goes above the random number.
          The value of each crystal is hidden from you until you click on it.
          Each time the game starts, the game will change the values of each crystal. 
          </p>
        </div>
      </div>

      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Random Number</h3>
        </div>
        <div class="panel-body text-center">
          <h1 id="computer-pick"></h1>
        </div>
      </div>

      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Use the Crystals to match the random number above</h3>
        </div>
        <div class="panel-body text-center">
          <img id="blueCrystal" src="assets/images/blue.png">
          <img id="yellowCrystal" src="assets/images/yellow.png">
          <img id="redCrystal" src="assets/images/red.png">
          <img id="greenCrystal" src="assets/images/green.png">
        </div>
      </div>

      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Result</h3>
        </div>
        <div class="panel-body text-center">
        <h1 id="result"></h1>
        <div id="wins">
          <strong>WINS:</strong>
        </div>
        <div id="loses">
          <strong>LOSES:</strong>
        </div>
          
        </div>
      </div>
    </div>
  </div>

  <script type="text/javascript">

    $(document).ready(function() {

      // Initial Variables
      var computerPick = Math.floor(Math.random() * 120) + 19;
      var blueCrystalRandom = Math.floor(Math.random() * 12) + 1;
      var yellowCrystalRandom = Math.floor(Math.random() * 12) + 1;
      var redCrystalRandom = Math.floor(Math.random() * 12) + 1;
      var greenCrystalRandom = Math.floor(Math.random() * 12) + 1;
      var lockGame = false;
      var counter = 0;
      var wins = 0;
      var loses = 0;

      // We log the computer's pick to console to make it easier to troubleshoot
      console.log("Computer Pick: " + computerPick);
      console.log("#computer-pick");
      $("#computer-pick").html(computerPick);

      if (counter < computerPick) {

          //blue crystal
          $("#blueCrystal").on("click", function() {
            $("#blueCrystal").attr("data-crystalvalue");
            // Each blueCrystal will be given a data attribute called data-crystalValue.
            // This data attribute will be set equal to the array value.
            console.log(blueCrystalRandom);
            blueCrystal.attr("data-crystalvalue", "parseInt(blueCrystalRandom)");

    		    // Determining the crystal's value requires us to extract the value from the data attribute.
    		    // Using the $(this) keyword specifies that we should be extracting the crystal value of the clicked crystal.
    		    // Using the .attr("data-crystalvalue") allows us to grab the value out of the "data-crystalvalue" attribute.
    		    // Since attributes on HTML elements are strings, we must convert it to an integer before adding to the counter
    		    
    		    var crystalValue = parseInt($(this).attr("data-crystalvalue"));
            
            console.log(crystalValue);
    		    // We then add the crystalValue to the user's "counter" which is a global variable.
    		    // Every click, from every crystal adds to the global counter.
    		    counter += crystalValue;
            

    		   // All of the same game win-lose logic applies. So the rest remains unchanged.
            alert("New score: " + counter);
             $("#result").html("New score: " + counter);

            if (counter === computerPick) {
              alert("You win!");
              $("#result").html("You win!");
              wins += 1;
            }

            else if (counter >= computerPick) {
              alert("You lose!!");
              $("#result").html("You lose!");
              loses += 1;
              return;
            }
      		});//END BLUE Crystal

          	
          	//yellow crystal
      		$("#yellowCrystal").on("click", function() {

    		    // Determining the crystal's value requires us to extract the value from the data attribute.
    		    // Using the $(this) keyword specifies that we should be extracting the crystal value of the clicked crystal.
    		    // Using the .attr("data-crystalvalue") allows us to grab the value out of the "data-crystalvalue" attribute.
    		    // Since attributes on HTML elements are strings, we must convert it to an integer before adding to the counter
    		    $("#yellowCrystal").attr("data-crystalvalue");
    		    var crystalValue = ($(this).attr("data-crystalvalue"));
    		    crystalValue = parseInt(crystalValue);
    		    // We then add the crystalValue to the user's "counter" which is a global variable.
    		    // Every click, from every crystal adds to the global counter.
    		    counter += crystalValue;

    		   // All of the same game win-lose logic applies. So the rest remains unchanged.
            alert("New score: " + counter);
             $("#result").html("New score: " + counter);

            if (counter === computerPick) {
              alert("You win!");
              $("#result").html("You win!");
              wins += 1;
            }

            else if (counter >= computerPick) {
              alert("You lose!!");
              $("#result").html("You lose!");
              loses += 1;
              return;
            }

      		});//END YELLOW Crystal

      		//red crystal
          	$("#redCrystal").on("click", function() {

    		    // Determining the crystal's value requires us to extract the value from the data attribute.
    		    // Using the $(this) keyword specifies that we should be extracting the crystal value of the clicked crystal.
    		    // Using the .attr("data-crystalvalue") allows us to grab the value out of the "data-crystalvalue" attribute.
    		    // Since attributes on HTML elements are strings, we must convert it to an integer before adding to the counter
    		    $("#redCrystal").attr("data-crystalvalue");
    		    var crystalValue = ($(this).attr("data-crystalvalue"));
    		    crystalValue = parseInt(crystalValue);
    		    // We then add the crystalValue to the user's "counter" which is a global variable.
    		    // Every click, from every crystal adds to the global counter.
    		    counter += crystalValue;

    		   // All of the same game win-lose logic applies. So the rest remains unchanged.
            alert("New score: " + counter);
             $("#result").html("New score: " + counter);

            if (counter === computerPick) {
              alert("You win!");
              $("#result").html("You win!");
              wins += 1;
            }

            else if (counter >= computerPick) {
              alert("You lose!!");
              $("#result").html("You lose!");
              loses += 1;
              return;
            }

      		});//END RED Crystal

      		//green crystal
      		$("#greenCrystal").on("click", function() {

    		    // Determining the crystal's value requires us to extract the value from the data attribute.
    		    // Using the $(this) keyword specifies that we should be extracting the crystal value of the clicked crystal.
    		    // Using the .attr("data-crystalvalue") allows us to grab the value out of the "data-crystalvalue" attribute.
    		    // Since attributes on HTML elements are strings, we must convert it to an integer before adding to the counter
    		    $("#greenCrystal").attr("data-crystalvalue");
    		    var crystalValue = ($(this).attr("data-crystalvalue"));
    		    crystalValue = parseInt(crystalValue);
    		    // We then add the crystalValue to the user's "counter" which is a global variable.
    		    // Every click, from every crystal adds to the global counter.
    		    counter += crystalValue;

    		 // All of the same game win-lose logic applies. So the rest remains unchanged.
            alert("New score: " + counter);
             $("#result").html("New score: " + counter);

            if (counter === computerPick) {
              alert("You win!");
              $("#result").html("You win!");
              wins += 1;
            }

            else if (counter >= computerPick) {
              alert("You lose!!");
              $("#result").html("You lose!");
              loses += 1;
              return;
            }

      		});//END GREEN Crystal

      }//END if conditional

      else if (counter >= computerPick) {
              alert("You lose!!");
              $("#result").html("You lose!");
              return;
     }
    });//END DOCUMENT READY

</script>

</body>
</html>